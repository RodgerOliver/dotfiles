#!/bin/bash

action=$(echo $1 | grep -e "^up\$\|^down\$");

[ -z $action ] && echo "First argument must be an action!" && exit;

path="/sys/class/backlight/intel_backlight";
max=$(cat $path/max_brightness);
actual=$(cat $path/actual_brightness);
percentage=10;
ammount=$[$max * $percentage / 100];

if [ $action == 'up' ]; then
	signal="+";
	one=$ammount;
	two=$actual;
else
	signal="-";
	one=$actual;
	two=$ammount;
fi
new=$[$one $signal $two];

echo $new | sudo tee "$path/brightness";
